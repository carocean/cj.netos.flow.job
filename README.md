# 流转服务器
调度的功能由flow项目提供，它负责对网域的推送队列、任务生成及完成过程管理。flow依赖于link以查询推送范围，依赖于networks以实现推送，
但它不直接与coluddisk打交道。

* 依赖项目
- link
- online

* 结构：

- 发送队列(redis)
- 任务队列（mongodb)

* 流程
手机某网域内用户有发送->flow接收->入发送队列->触发调度计划->查询网域成员(link)->生成任务->标记任务发送目标状态
->执行推送->接收手机端传来的确认信（调flow的restful接口以标记）->检测到任务有未发送的重试

->用户或调备上线->检测与其相关的未完成任务->flow发送

* 推送类型分为两类：

- 固定推送目标的，如网域，这些需要link查询推送目标，像聊天室、网流、地圈均为此类
- 专属推送，不固定成员，如股指变更。由专门的network为之服务，且为广播模式，所以只需要知道network名向它发信息就可以了，不需要到link上查成员
